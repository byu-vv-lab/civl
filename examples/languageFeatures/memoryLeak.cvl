#include<civlc.h>

void process(){
  int * p = (int *) $malloc($here, sizeof(int));
  double * q;
  
  *p = 10;
  for(int i = 0; i < 5; i++){
    q = (double *) $malloc($here, sizeof(double));
    *q = i + i*0.1;
    $free(q);
  }
  //$free(p);
}

void main(){
  $proc p = $spawn process();
  double * q = (double *) $malloc($here, sizeof(double));
  
  *q = 1.1;
  $wait(p);
  $free(q);
}
